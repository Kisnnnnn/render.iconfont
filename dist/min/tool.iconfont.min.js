"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,o){var i={path:"../icon/",type:"class",className:"",selector:".fonticon"},e={array:"Array",object:"Object",function:"Function",string:"String",null:"Null",undefined:"Undefined",boolean:"Boolean",number:"Number"},p=function(t,n){return e[n]&&e[n]===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)},m=function(t){return p(t,"object")&&!function(t){return null!=t&&ojb===t.window}(t)&&Object.getPrototypeOf(t)===Object.prototype};function l(n,t){return t.find(function(t){return t.name===n})}function u(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),document.head.appendChild(n),n=null}function n(n){var e=this;if(n=function t(){for(var n,e,o,i,c,r,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=a[0]||{},f=1,h=a.length,d=!1;for("boolean"==typeof u&&(d=u,u=a[f]||{},f++),"object"!=_typeof(u)&&p(u,"function")&&(u={}),f===h&&(u=this,f--);f<h;f++)if(null!=(n=a[f]))for(e in n)o=u[e],u!==(i=n[e])&&(d&&i&&m(i)||(c=p(i,"array"))?(r=c?(c=!1,o&&p(o,"array")?o:[]):o&&m(o)?o:{},u[e]=t(d,r,i)):void 0!==i&&(u[e]=i));return u}({},i,n),this.iconListElem=o.querySelectorAll(n.selector),0===this.iconListElem.length)return console.error("选择器「"+n.selector+"」不存在！"),!1;this._getIconData(n.path).then(function(t){switch(n.type){case"svg":e._initSvgIcon(n,t);break;case"unicode":e._initUnicode(n,t);break;default:e._initClass(n,t)}})}n.prototype={_initSvgIcon:function(t,n){for(var e=t.path+"/",o=this.iconListElem,i=0;i<o.length;i++){var c=o[i],r=c.dataset.name,s=l(r,n).font_class;c.innerHTML='<svg class="icon" aria-hidden="true">\n                          <use xlink:href="#icon-'.concat(s,'"></use>\n                          </svg>'),t.width&&(c.children[0].style.width=t.width+"px"),t.height&&(c.children[0].style.height=t.width+"px"),t.className&&c.children[0].classList.add(t.className)}u("./lib/svg-fonticon.css");var a=document.createElement("script");a.src=e+"iconfont.js",document.body.appendChild(a)},_initClass:function(t,n){var e=t.path+"/",o=this.iconListElem;u(e+"iconfont.css");for(var i=0;i<o.length;i++){var c=l(o[i].dataset.name,n).font_class,r=document.createElement("span");r.className="iconfont icon-"+c+" "+t.className,r.style.fontSize=t.size+"px",o[i].appendChild(r),r=null}},_initUnicode:function(t,n){var e=t.path+"/",o=this.iconListElem;u(e+"iconfont.css"),(t.width||t.height)&&console.erro("配置项中的宽高度只对「symbol」类型有效，请使用Size!");for(var i=0;i<o.length;i++){var c=l(o[i].dataset.name,n).unicode,r=document.createElement("span");r.className="iconfont "+t.className,r.innerHTML="&#x"+c+";",r.style.fontSize=t.size+"px",o[i].appendChild(r),r=null}},_getIconData:function(t){return new Promise(function(n,e){fetch(t+"/iconfont.json").then(function(t){if(t.ok)return t.json();e(t)}).then(function(t){n(t.glyphs)}).catch(function(t){return t})})}},t.fontIcon=n}(window,document);